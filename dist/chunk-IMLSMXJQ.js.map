{"version":3,"sources":["../src/core/mappers/leadMapper.ts"],"sourcesContent":["import type { AirtableRecord } from \"../types/airtable\";\nimport type { Lead } from \"../domain/lead\";\n\n/**\n * Airtable fields shape for the \"Leads\" table.\n * Keep field names exactly as they are in Airtable.\n */\nexport type LeadFields = {\n  Name: string;\n  Email?: string;\n  Phone?: string;\n};\n\nexport function leadToFields(model: Partial<Lead>): Partial<LeadFields> {\n  // Minimal mapping, no validation yet (we can add Zod later)\n  const out: Partial<LeadFields> = {};\n\n  if (typeof model.name === \"string\") out.Name = model.name;\n  if (typeof model.email === \"string\") out.Email = model.email;\n  if (typeof model.phone === \"string\") out.Phone = model.phone;\n\n  return out;\n}\n\nexport function leadFromRecord(record: AirtableRecord<LeadFields>): Lead {\n  return {\n    id: record.id,\n    createdTime: record.createdTime,\n    name: String(record.fields.Name ?? \"\"),\n    email: typeof record.fields.Email === \"string\" ? record.fields.Email : undefined,\n    phone: typeof record.fields.Phone === \"string\" ? record.fields.Phone : undefined,\n  };\n}\n"],"mappings":";AAaO,SAAS,aAAa,OAA2C;AAEtE,QAAM,MAA2B,CAAC;AAElC,MAAI,OAAO,MAAM,SAAS,SAAU,KAAI,OAAO,MAAM;AACrD,MAAI,OAAO,MAAM,UAAU,SAAU,KAAI,QAAQ,MAAM;AACvD,MAAI,OAAO,MAAM,UAAU,SAAU,KAAI,QAAQ,MAAM;AAEvD,SAAO;AACT;AAEO,SAAS,eAAe,QAA0C;AACvE,SAAO;AAAA,IACL,IAAI,OAAO;AAAA,IACX,aAAa,OAAO;AAAA,IACpB,MAAM,OAAO,OAAO,OAAO,QAAQ,EAAE;AAAA,IACrC,OAAO,OAAO,OAAO,OAAO,UAAU,WAAW,OAAO,OAAO,QAAQ;AAAA,IACvE,OAAO,OAAO,OAAO,OAAO,UAAU,WAAW,OAAO,OAAO,QAAQ;AAAA,EACzE;AACF;","names":[]}